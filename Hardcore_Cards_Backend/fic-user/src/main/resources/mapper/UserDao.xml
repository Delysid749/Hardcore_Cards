<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="top.zway.fic.user.dao.UserDao">
    <!--
        插入新用户记录
        useGeneratedKeys="true" 表示使用数据库生成的主键
        keyProperty="userDO.id" 表示将生成的主键值赋给userDO对象的id属性
    -->
    <insert id="insertUser" parameterType="top.zway.fic.base.entity.DO.UserDO" useGeneratedKeys="true" keyProperty="userDO.id">
        INSERT INTO 'user' ( 'username', 'password', 'status' )
        VALUES ( #{userDO.username}, #{userDO.password}, #{userDO.status} )

    </insert>

    <!--
        统计指定用户名的记录数量
        返回类型为Integer，用于判断用户名是否已存在
    -->
    <select id="countUsername" resultType="java.lang.Integer">
        SELECT COUNT( `username` )
        FROM 'user'
        WHERE 'username' = #{username}
    </select>
</mapper>